
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MetricSpace - Coordinate representation &#8212; SciKit GStat 0.6.4 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Utility Functions" href="util.html" />
    <link rel="prev" title="Example data sets" href="data.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">SciKit GStat</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../install.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../userguide/userguide.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../tutorials/tutorials.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../technical/technical.html">
  Technical Notes
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="reference.html">
  Code Reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../changelog.html">
  Changelog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://mmaelicke.github.io/scikit-gstat/SciKitGStat.pdf">
  PDF
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/mmaelicke/scikit-gstat" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p class="caption">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="variogram.html">
   Variogram Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="directionalvariogram.html">
   DirectionalVariogram Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="spacetimevariogram.html">
   SpaceTimeVariogram class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="binning.html">
   Binning functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="estimator.html">
   Estimator Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="models.html">
   Variogram models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kriging.html">
   Kriging Class
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data.html">
   Example data sets
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   MetricSpace - Coordinate representation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="util.html">
   Utility Functions
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#metricspace">
   MetricSpace
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#metricspacepair">
   MetricSpacePair
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="metricspace-coordinate-representation">
<h1>MetricSpace - Coordinate representation<a class="headerlink" href="#metricspace-coordinate-representation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="metricspace">
<h2>MetricSpace<a class="headerlink" href="#metricspace" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skgstat.MetricSpace">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">skgstat.</span></span><span class="sig-name descname"><span class="pre">MetricSpace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/skgstat/MetricSpace.html#MetricSpace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skgstat.MetricSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>A MetricSpace represents a point cloud together with a distance
metric and possibly a maximum distance. It efficiently provides
the distances between each point pair (when shorter than the
maximum distance).</p>
<p>Note: If a max_dist is specified a sparse matrix representation is
used for the distances, which saves space and calculation time for
large datasets, especially where max_dist &lt;&lt; the size of the point
cloud in space. However, it slows things down for small datasets.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skgstat.MetricSpace.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/skgstat/MetricSpace.html#MetricSpace.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skgstat.MetricSpace.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>ProbabalisticMetricSpace class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.21)"><em>numpy.ndarray</em></a>) – Coordinate array of shape (Npoints, Ndim)</p></li>
<li><p><strong>dist_metric</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Distance metric names as used by scipy.spatial.distance.pdist</p></li>
<li><p><strong>max_dist</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Maximum distance between points after which the distance
is considered infinite and not calculated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skgstat.MetricSpace.find_closest">
<span class="sig-name descname"><span class="pre">find_closest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skgstat.MetricSpace.find_closest" title="Permalink to this definition">¶</a></dt>
<dd><p>find neighbors
Find the (N) closest points (in the right set) to the point with
index idx (in the left set).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Index of the point that the N closest neighbors
are searched for.</p></li>
<li><p><strong>max_dist</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Maximum distance at which other points are searched</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of points searched.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ridx</strong> – Indices of the N closeset points to idx</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.21)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skgstat.MetricSpace.diagonal">
<span class="sig-name descname"><span class="pre">diagonal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/skgstat/MetricSpace.html#MetricSpace.diagonal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skgstat.MetricSpace.diagonal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a diagonal matrix (as per
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/reference/generated/scipy.spatial.distance.squareform.html#scipy.spatial.distance.squareform" title="(in SciPy v1.7.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">squareform</span></code></a>),
optionally for a subset of the points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – list of indices that the diagonal matrix is calculated for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>diagonal</strong> – squareform matrix of the subset of coordinates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.21)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skgstat.MetricSpace.dists">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">dists</span></span><a class="headerlink" href="#skgstat.MetricSpace.dists" title="Permalink to this definition">¶</a></dt>
<dd><p>A distance matrix of all point pairs. If <cite>self.max_dist</cite> is
not <cite>None</cite> and <cite>self.dist_metric</cite> is set to <cite>euclidean</cite>, a
<cite>scipy.sparse.csr_matrix</cite> sparse matrix is returned.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skgstat.MetricSpace.tree">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">tree</span></span><a class="headerlink" href="#skgstat.MetricSpace.tree" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>self.dist_metric</cite> is <cite>euclidean</cite>, a <cite>scipy.spatial.cKDTree</cite>
instance of <cite>self.coords</cite>. Undefined otherwise.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="metricspacepair">
<h2>MetricSpacePair<a class="headerlink" href="#metricspacepair" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skgstat.MetricSpacePair">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">skgstat.</span></span><span class="sig-name descname"><span class="pre">MetricSpacePair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ms1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/skgstat/MetricSpace.html#MetricSpacePair"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skgstat.MetricSpacePair" title="Permalink to this definition">¶</a></dt>
<dd><p>A MetricSpacePair represents a set of point clouds (MetricSpaces).
It efficiently provides the distances between each point in one
point cloud and each point in the other point cloud (when shorter
than the maximum distance). The two point clouds are required to
have the same distance metric as well as maximum distance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skgstat.MetricSpacePair.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ms1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ms2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/skgstat/MetricSpace.html#MetricSpacePair.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#skgstat.MetricSpacePair.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ms1</strong> (<a class="reference internal" href="#skgstat.MetricSpace" title="skgstat.MetricSpace"><em>MetricSpace</em></a>) – </p></li>
<li><p><strong>ms2</strong> (<a class="reference internal" href="#skgstat.MetricSpace" title="skgstat.MetricSpace"><em>MetricSpace</em></a>) – </p></li>
<li><p><strong>Note</strong> (<cite>ms1</cite> and <cite>ms2</cite> need to have the same <cite>max_dist</cite> and) – </p></li>
<li><p><strong>distance_metric.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skgstat.MetricSpacePair.find_closest">
<span class="sig-name descname"><span class="pre">find_closest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skgstat.MetricSpacePair.find_closest" title="Permalink to this definition">¶</a></dt>
<dd><p>find neighbors
Find the (N) closest points (in the right set) to the point with
index idx (in the left set).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>idx</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Index of the point that the N closest neighbors
are searched for.</p></li>
<li><p><strong>max_dist</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Maximum distance at which other points are searched</p></li>
<li><p><strong>N</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of points searched.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ridx</strong> – Indices of the N closeset points to idx</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.21)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skgstat.MetricSpacePair.dists">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">dists</span></span><a class="headerlink" href="#skgstat.MetricSpacePair.dists" title="Permalink to this definition">¶</a></dt>
<dd><p>A distance matrix of all point pairs. If <cite>self.max_dist</cite> is
not <cite>None</cite> and <cite>self.dist_metric</cite> is set to <cite>euclidean</cite>, a
<cite>scipy.sparse.csr_matrix</cite> sparse matrix is returned.</p>
</dd></dl>

</dd></dl>

</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="data.html" title="previous page">Example data sets</a>
    <a class='right-next' id="next-link" href="util.html" title="next page">Utility Functions</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Mirko Mälicke.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>